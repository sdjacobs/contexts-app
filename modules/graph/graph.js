function go(e,t){function s(t){d3.select(e).selectAll(".container *").remove();var i=u(t.split("\n"));r=n().nodes(i.nodes).edges(i.edges),d3.select(e).call(r)}function o(){var e=d3.select("#selectedNodes");e.selectAll("*").remove(),e.selectAll("li").data(r.selectedNodes()).enter().append("li").html(function(e){return e.label+" <a href='#'>x</a>"}).select("a").on("click",function(e){r.unSelectNode(e),o()});var n=r.selectedNodes().map(function(e){return e.label});t.wordlist(n)}function u(e){function s(e){var n=r[e];return n!=undefined?t[n]:(n=i,r[e]=n,i++,t.push({label:e}),t[n])}var t=[],n=[],r={},i=0;return e.forEach(function(e){if(e[0]=="#")return;words=e.split(" ");var t=10,r=s(words[0]);for(var i=1;i<words.length;i++){var o=s(words[i]);n.push({source:r,target:o,value:t}),t-=1}}),{nodes:t,edges:n}}var n=graphCanvas,r,i=["english-brown_50_9_nearest_neighbors.txt","english-brown_100_9_nearest_neighbors.txt","english-brown_1000_9_nearest_neighbors.txt"];d3.select("#dataFile").call(filepicker(),i,s),d3.select("#graphType").on("change",function(){n=d3.event.target.value=="svg"?graphSVG:graphCanvas;if(!r)return;var t=n();t.nodes(r.nodes()).edges(r.edges()).selectedNodes(r.selectedNodes()).force(r.force());var i=d3.select(e);i.selectAll("*").remove(),i.call(t),r=t}),d3.select("#centerGraph").on("click",function(){r.center()}),d3.select("#stopGraph").on("click",function(){r.stop()}),d3.select("#startGraph").on("click",function(){r.start();var i=n==graphCanvas?"canvas":"svg";t.graph({graph:r,container:e,type:i})}),d3.select("#drawLabels").on("change",function(){r.labels(d3.event.target.checked)}),d3.select("#findNode").on("click",function(){var e=document.querySelector("#searchBox").value,t=r.nodes().find(function(t){return t.label==e});if(!t)return;var n=document.querySelector("#numNeighbors").value;r.selectNode(t,parseInt(n)),o()})}define(["d3","app/graphCanvas","app/graphSVG","app/filepicker"],function(e,t,n,r){return go});