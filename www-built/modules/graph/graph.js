function go(e,t){function s(t){d3.select(e).selectAll(".container *").remove();var i=o(t.split("\n"));r=n().nodes(i.nodes).edges(i.edges),d3.select(e).call(r)}function o(e){function s(e){var n=r[e];return n!=undefined?t[n]:(n=i,r[e]=n,i++,t.push({label:e}),t[n])}var t=[],n=[],r={},i=0;return e.forEach(function(e){if(e[0]=="#")return;words=e.split(" ");var t=10,r=s(words[0]);for(var i=1;i<words.length;i++){var o=s(words[i]);n.push({source:r,target:o,value:t}),t-=1}}),{nodes:t,edges:n}}var n=graphCanvas,r,i=["english-brown_50_9_nearest_neighbors.txt","english-brown_100_9_nearest_neighbors.txt","english-brown_1000_9_nearest_neighbors.txt"];d3.select("#dataFile").call(filepicker(),i,s),d3.select("#graphType").on("change",function(){n=d3.event.target.value=="svg"?graphSVG:graphCanvas;if(!r)return;var t=n();t.nodes(r.nodes()).edges(r.edges()).selectedNodes(r.selectedNodes()).force(r.force());var i=d3.select(e);i.selectAll("*").remove(),i.call(t),r=t}),d3.select("#centerGraph").on("click",function(){r.center()}),d3.select("#stopGraph").on("click",function(){r.stop()}),d3.select("#startGraph").on("click",function(){r.start();var i=n==graphCanvas?"canvas":"svg";t.graph({graph:r,container:e,type:i})}),d3.select("#drawLabels").on("change",function(){r.labels(d3.event.target.checked)}),d3.select("#searchBox").on("change",function(){var e=document.querySelector("#searchBox").value,n={};r.selectedNodes().forEach(function(e){n[e.label]=e}),e.split(",").forEach(function(e){var t=e.split(":"),i=t[0].trim();if(!i||i=="")return;var s=parseInt(t[1])||1,o=t[2]?t[2].trim():undefined,u=r.selectedNodes().find(function(e){return e.label==i});if(u){if(u.selectedGens==s){n[u.label]=undefined;return}r.unSelectNode(u)}else u=r.nodes().find(function(e){return e.label==i});u&&(r.selectNode(u,s,o),n[u.label]=undefined)});for(var i in n)n.hasOwnProperty(i)&&n[i]&&r.unSelectNode(n[i]);t.wordlist(r.selectedNodes().map(function(e){return e.label}))})}define(["d3","app/graphCanvas","app/graphSVG","app/filepicker","app/compatibility"],function(e,t,n,r){return go});